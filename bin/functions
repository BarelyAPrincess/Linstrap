#!/bin/bash

[ $LINSTRAP_DIR ] || LINSTRAP_DIR="`dirname $0`"
LINSTRAP_DIR="`realpath $LINSTRAP_DIR`"
[ $LINSTRAP_CHROOT ] || LINSTRAP_CHROOT="${LINSTRAP_DIR}/workdir/chroot"

function drop
{
    echo "$1"
    exit 1
}

function check_env
{
    printf "CHECKING ENVIRONMENT..."

    [ `uname -m` != "x86_64" ] && drop "Did not detect X86_64 ARCH. Script may fail."
#    [ `whoami` != "root" ] && drop "Only root can run this script."

    echo "GOOD!"
}

echo
echo "   _      _         _____  _                         "
echo "  | |    (_)       /  ___|| |                        "
echo "  | |     _  _ __  \ '--. | |_  _ __   __ _  _ __    "
echo "  | |    | || '_ \  '--. \| __|| '__| / _' || '_ \   "
echo "  | |____| || | | |/\__/ /| |_ | |   | (_| || |_) |  "
echo "  \_____/|_||_| |_|\____/  \__||_|    \__,_|| .__/   "
echo " -------------------------------------------| |----- "
echo " | Welcome to LinStrap v1.0                 |_|    | "
echo " --------------------------------------------------- "
echo

check_env
echo "LinStrap Directory: ${LINSTRAP_DIR}"
echo
